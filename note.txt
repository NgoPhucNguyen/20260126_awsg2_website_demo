20262601 : Database 

2026 27 01 : server.js improvement. 
2026 27 01 : postgres and S3 
2026 27 01 :  
03/Feb/2026  : nextval('customer_id_seq'::regclass) 

# 1. Create a new branch specifically for this AWS experiment
git checkout -b feature/aws-backend-setup

# 2. Now, when you push, you push ONLY to this branch
git add .
git commit -m "Setting up AWS backend structure"
git push origin feature/aws-backend-setup


-- 1. ENFORCE ESSENTIALS (Make them Required)
ALTER TABLE customer ALTER COLUMN mail SET NOT NULL;
ALTER TABLE customer ALTER COLUMN password_hash SET NOT NULL;
ALTER TABLE customer ALTER COLUMN account_name SET NOT NULL;

-- 2. UNLOCK OPTIONAL DATA (Allow them to be Empty/Null)
ALTER TABLE customer ALTER COLUMN first_name DROP NOT NULL;
ALTER TABLE customer ALTER COLUMN last_name DROP NOT NULL;
ALTER TABLE customer ALTER COLUMN phone_number DROP NOT NULL;
ALTER TABLE customer ALTER COLUMN address_id DROP NOT NULL;
ALTER TABLE customer ALTER COLUMN gender DROP NOT NULL;
ALTER TABLE customer ALTER COLUMN birthday DROP NOT NULL;
ALTER TABLE customer ALTER COLUMN avatar_url DROP NOT NULL;

-- 3. ENSURE UNIQUENESS (Crucial for Login)
-- You don't want two people with the same Email or Account Name
ALTER TABLE customer ADD CONSTRAINT unique_mail UNIQUE (mail);
ALTER TABLE customer ADD CONSTRAINT unique_account_name UNIQUE (account_name);

